<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>D&D App ‚Äì Master</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-zinc-950 text-zinc-100 min-h-screen">

  <!-- =============================================================
  HEADER
  ============================================================= -->
  <header class="sticky top-0 z-40 bg-zinc-900/80 backdrop-blur border-b border-zinc-800">
    <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
      <h1 class="text-2xl font-bold tracking-wide text-red-400">
        üêâ Panel del Master
      </h1>

      <div class="flex gap-3">
        <button onclick="openCreateForm()"
          class="px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 font-semibold shadow transition">
          Crear personaje
        </button>

        <button onclick="openPlayerBoard()"
          class="px-4 py-2 rounded-lg bg-zinc-800 hover:bg-zinc-700 border border-zinc-700 transition">
          Ver tablero
        </button>
      </div>
    </div>
  </header>

  <!-- =============================================================
  CONTENIDO
  ============================================================= -->
  <main class="max-w-7xl mx-auto px-6 py-10">

    <!-- FORMULARIO -->
    <section id="createCard"
      class="hidden max-w-4xl mx-auto mb-12 bg-zinc-900 border border-zinc-700 rounded-3xl shadow-2xl p-8">

      <h2 class="text-2xl font-bold text-amber-400 mb-8 text-center">
        Crear nuevo personaje
      </h2>

      <!-- DATOS B√ÅSICOS -->
      <div class="bg-zinc-900/60 border border-zinc-800 rounded-xl p-6">
        <h3 class="section-title">Datos b√°sicos</h3>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-5 mt-4">
          <div>
            <label class="label">Nombre</label>
            <input id="charNameInput" class="input" />
          </div>

          <div>
            <label class="label">Salud</label>
            <input id="charLifeInput" type="number" min="1" value="10" class="input" />
          </div>

          <div>
            <label class="label">Hitos</label>
            <input id="charMilestonesInput" class="input" />
          </div>

          <div>
            <label class="label">Caracter√≠sticas</label>
            <input id="charAttributesInput" class="input" />
          </div>

          <div>
            <label class="label">Experiencia</label>
            <input id="charExpInput" type="number" min="0" value="0" class="input" />
          </div>

          <div>
            <label class="label">Nivel</label>
            <input id="charLevelInput" type="number" min="1" value="1" class="input" />
          </div>
        </div>
      </div>

      <!-- HABILIDADES -->
      <div class="mt-8 bg-zinc-900/60 border border-zinc-800 rounded-xl p-6">
        <h3 class="section-title text-sky-400">Habilidades (m√°x. 8)</h3>
        <div id="skillsContainer" class="space-y-2 mt-4"></div>

        <button type="button"
          onclick="addSkillInput()"
          class="mt-4 px-4 py-2 rounded-lg bg-zinc-800 hover:bg-zinc-700 border border-zinc-700">
          ‚ûï A√±adir habilidad
        </button>
      </div>

      <!-- IMAGEN -->
      <div class="mt-8 bg-zinc-900/60 border border-zinc-800 rounded-xl p-6">
        <h3 class="section-title">Imagen principal</h3>
        <input id="charImgInput" type="file" accept="image/*" class="file mt-3" />
        <img id="previewCharMain" class="preview h-56 mt-4" />
      </div>

      <!-- OBJETOS -->
      <div class="mt-8 bg-zinc-900/60 border border-zinc-800 rounded-xl p-6">
        <h3 class="section-title text-emerald-400">Objetos (m√°x. 6)</h3>
        <div id="objectsContainer"
          class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mt-4">
        </div>
      </div>

      <!-- BOT√ìN -->
      <button
        id="submitCharacterBtn"
        onclick="submitCharacter()"
        class="mt-10 w-full py-3 rounded-xl
        bg-gradient-to-r from-red-600 to-red-700
        hover:from-red-700 hover:to-red-800
        font-bold text-lg shadow-lg">
        üêâ Crear personaje
      </button>
    </section>

    <!-- LISTA -->
    <section>
      <h2 class="text-3xl font-bold text-red-300 mb-6 text-center">
        Jugadores de la campa√±a
      </h2>
      <div id="playersList"
        class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
      </div>
    </section>
  </main>

  <!-- LOADER -->
  <div id="loader"
    class="hidden fixed inset-0 bg-black/70 flex items-center justify-center z-50">
    <div class="h-14 w-14 border-4 border-red-500 border-t-transparent rounded-full animate-spin"></div>
  </div>

  <!-- =============================================================
  CSS ‚Äì FIX DEFINITIVO TEXTO NEGRO
  ============================================================= -->
  <style>
    .section-title {
      @apply text-lg font-bold text-zinc-300;
    }
    .label {
      @apply block mb-1 text-sm font-semibold text-zinc-400;
    }
    .label-sm {
      @apply block mb-2 text-xs font-semibold text-zinc-400;
    }

    /* üî• FIX GLOBAL DE INPUTS */
    .input,
    input,
    textarea,
    select {
      background-color: #ffffff !important;
      color: #000000 !important;
      border: 1px solid #a1a1aa;
      border-radius: 0.5rem;
      padding: 0.5rem 1rem;
    }

    .input::placeholder,
    textarea::placeholder {
      color: #71717a;
    }

    .input:focus,
    textarea:focus,
    select:focus {
      outline: none;
      border-color: #ef4444;
      box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.4);
    }

    /* Autofill Chrome */
    input:-webkit-autofill,
    input:-webkit-autofill:hover,
    input:-webkit-autofill:focus {
      -webkit-text-fill-color: black !important;
      box-shadow: 0 0 0px 1000px white inset !important;
    }

    /* N√∫meros */
    input[type="number"] {
      color: black !important;
    }

    /* FILE INPUT LIMPIO */
    .file {
      width: 100%;
      border-radius: 0.5rem;
      border: 1px solid #a1a1aa;
      background: white;
      color: black;
      cursor: pointer;
    }

    .file::file-selector-text {
      display: none;
    }

    .file::file-selector-button {
      background: #dc2626;
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 0.5rem;
      cursor: pointer;
    }

    .file:hover::file-selector-button {
      background: #b91c1c;
    }

    .preview {
      @apply hidden w-full object-cover rounded-xl
      border border-zinc-600 shadow-md;
    }

    .object-card {
      @apply bg-zinc-800 border border-zinc-700 rounded-xl p-4;
    }
  </style>

  <!-- SCRIPT -->
  <script src="../js/script.js"></script>
</body>
</html>
